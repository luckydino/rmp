import{a6 as z,j as e,g as p,O as r,aV as W,aW as j,aX as b,B as g,aY as M,aZ as T,a4 as F,U as C,aM as H,aK as _,a_ as q,a7 as K,aE as U}from"./chakra-xNcrfRXW.js";import{u as V,b as I}from"./react-D-_si4LB.js";import{c as X,d as S,aJ as J,aK as Y,aL as Z,at as u,V as G,W as Q,k as v,l as P,as as o,S as ee,aM as se,b as ae,aN as ne}from"./index-DDaGTErg.js";import{m as x}from"./misc-nodes-CMG-U0WY.js";import{s as $}from"./master-manager-BvOOnUNi.js";const c={justifyContent:"flex-start",p:0,w:"100%",h:10},w={p:2.5,h:10},N={p:0,display:"flex",flexDirection:"column"},te=e.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:e.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2",stroke:"currentColor",strokeDasharray:"2",fill:"none"})}),E=.3,he=()=>{const{t:n}=V(),t=X();S(s=>s.account);const{preference:{unlockSimplePathAttempts:m,toolsPanel:{expand:d}}}=S(s=>s.app),{mode:l,theme:h,paletteAppClip:{output:i},masterNodesCount:oe}=S(s=>s.runtime),B=z("white","var(--chakra-colors-gray-800)"),[O,k]=I.useState(!1);I.useEffect(()=>{O&&i&&(t(J(i)),k(!1))},[i==null?void 0:i.toString()]);const[a,A]=I.useState(d),R=()=>{d?A(!1):setTimeout(()=>A(!0),(E+.02)*1e3),t(ne(!d))},L=s=>t(u("station-".concat(s))),y=s=>t(u("line-".concat(s))),f=s=>t(u("misc-node-".concat(s)));return e.jsxs(p,{flexShrink:"0",direction:"column",width:d?450:10,maxWidth:"100%",height:"100%",bg:B,zIndex:"5",transition:"width ".concat(E,"s ease-in-out"),children:[e.jsx(r,{"aria-label":"Menu",leftIcon:a?e.jsx(Y,{size:40,transform:"rotate(90)"}):e.jsx(Z,{size:40,transform:"rotate(90)"}),onClick:R,sx:c,children:a?n("panel.tools.showLess"):void 0}),e.jsx(p,{className:"tools",overflow:"auto",children:e.jsxs(W,{width:"100%",allowMultiple:!0,defaultIndex:[0,1,2],children:[e.jsx(r,{"aria-label":"select",leftIcon:te,onClick:()=>t(u(l==="select"?"free":"select")),variant:l==="select"?"solid":"outline",sx:c,children:a?n("panel.tools.select"):void 0}),e.jsxs(j,{children:[e.jsxs(b,{sx:w,children:[a&&e.jsx(g,{as:"span",flex:"1",textAlign:"left",children:n("panel.tools.section.lineDrawing")}),e.jsx(M,{})]}),e.jsxs(T,{sx:N,children:[e.jsxs(p,{children:[e.jsx(G,{theme:h,onClick:()=>{k(!0),t(Q(h))}}),e.jsx(F,{fontWeight:"600",pl:"1",alignSelf:"center",children:a?n("color"):void 0})]}),Object.values(v).filter(s=>!(s===v.Simple&&m>=0)).map(s=>e.jsx(r,{"aria-label":s,leftIcon:P[s].icon,onClick:()=>y(s),variant:l==="line-".concat(s)?"solid":"outline",sx:c,children:a?n(P[s].metadata.displayName):void 0},s)),e.jsx(r,{"aria-label":o.Virtual,leftIcon:x[o.Virtual].icon,onClick:()=>f(o.Virtual),variant:l==="misc-node-".concat(o.Virtual)?"solid":"outline",sx:c,children:a?n(x[o.Virtual].metadata.displayName):void 0})]})]}),e.jsxs(j,{children:[e.jsxs(b,{sx:w,children:[a&&e.jsx(g,{as:"span",flex:"1",textAlign:"left",children:n("panel.tools.section.stations")}),e.jsx(M,{})]}),e.jsxs(T,{sx:N,children:[Object.values(ee).map(s=>e.jsx(r,{"aria-label":s,leftIcon:$[s].icon,onClick:()=>L(s),variant:l==="station-".concat(s)?"solid":"outline",sx:c,children:a?n($[s].metadata.displayName):void 0},s)),e.jsx(D,{type:"station",expand:a})]})]}),e.jsxs(j,{children:[e.jsxs(b,{sx:w,children:[a&&e.jsx(g,{as:"span",flex:"1",textAlign:"left",children:n("panel.tools.section.miscellaneousNodes")}),e.jsx(M,{})]}),e.jsxs(T,{sx:N,children:[e.jsxs(r,{"aria-label":o.Master,leftIcon:x[o.Master].icon,onClick:()=>f(o.Master),variant:l==="misc-node-".concat(o.Master)?"solid":"outline",isDisabled:!1,sx:c,children:[a?n(x[o.Master].metadata.displayName):void 0,a?e.jsxs(e.Fragment,{children:[e.jsx(C,{ml:"1",colorScheme:"green",children:"New"}),e.jsx(H,{label:n("header.settings.proWithTrial"),children:e.jsx(C,{ml:"1",color:"gray.50",background:"radial-gradient(circle, #3f5efb, #fc466b)",mr:"auto",children:"PRO"})})]}):void 0]}),Object.values(o).filter(s=>s!==o.Virtual&&s!==o.I18nText&&s!==o.Master).map(s=>e.jsx(r,{"aria-label":s,leftIcon:x[s].icon,onClick:()=>f(s),variant:l==="misc-node-".concat(s)?"solid":"outline",sx:c,children:a?n(x[s].metadata.displayName):void 0},s)),e.jsx(D,{type:"misc-node",expand:a})]})]})]})})]})},D=n=>{const{type:t,expand:m}=n,{t:d}=V(),l=t==="misc-node"?"nodes":t==="station"?"stations":"line-styles",h=t==="line"?"xs":void 0,i=t==="line"?"30px":"40px";return e.jsxs(_,{fontSize:h,children:[t!=="line"&&e.jsx(q.Provider,{value:{style:{padding:5},size:i},children:e.jsx(se,{})}),m&&e.jsxs(e.Fragment,{children:[e.jsx(K,{color:"teal.500",href:"https://github.com/railmapgen/rmp/blob/main/docs/".concat(l,".md"),isExternal:!0,children:d("panel.tools.learnHowToAdd.".concat(t))}),e.jsx(U,{as:ae,color:"teal.500",mr:"auto"})]})]})};export{D as LearnHowToAdd,he as default};
